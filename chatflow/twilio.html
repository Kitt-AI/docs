

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Twilio Bot Tutorials &mdash; ChatFlow 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ChatFlow 0.1 documentation" href="index.html"/>
        <link rel="next" title="Kik Bot Tutorials" href="kik.html"/>
        <link rel="prev" title="Slack Bot Tutorials" href="slack.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> ChatFlow
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">ChatFlow Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#accessing-chatflow">Accessing ChatFlow</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#a-first-conversational-flow-from-a-template">A first conversational flow (from a template)</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#another-simple-flow-from-scratch">Another simple flow, from scratch</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#the-conversational-router">The conversational router</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#enter-nodes">Enter nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#state-nodes">State nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#adding-input-and-output">Adding input and output</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#dealing-with-natural-language-input">Dealing with natural language input</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dialogue_nodes.html">Dialogue Nodes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dialogue_nodes.html#nodes-in-chatflow">Nodes in ChatFlow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dialogue_nodes.html#basic-flow-input-and-output">Basic Flow, Input and Output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dialogue_nodes.html#router">Router</a></li>
<li class="toctree-l2"><a class="reference internal" href="dialogue_nodes.html#enter-nodes">Enter Nodes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dialogue_nodes.html#ordering-preferences">Ordering preferences</a></li>
<li class="toctree-l3"><a class="reference internal" href="dialogue_nodes.html#direct-link">Direct link</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dialogue_nodes.html#state-nodes">State Nodes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dialogue_nodes.html#final-state">Final state</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dialogue_nodes.html#nlu">NLU</a></li>
<li class="toctree-l2"><a class="reference internal" href="dialogue_nodes.html#api-nodes">API Nodes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extended_example.html">Extended Example: A conversational Yelp bot</a><ul>
<li class="toctree-l2"><a class="reference internal" href="extended_example.html#starting-your-conversational-project">Starting your conversational project</a><ul>
<li class="toctree-l3"><a class="reference internal" href="extended_example.html#adding-an-nlu-node">Adding an NLU node</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="extended_example.html#creating-your-flow">Creating your flow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="extended_example.html#initialization">Initialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended_example.html#prompting-the-user-and-understanding-the-user-s-request">Prompting the user and understanding the user&#8217;s request</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended_example.html#fulfilling-the-user-s-request-through-a-yelp-query">Fulfilling the user&#8217;s request through a Yelp query</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended_example.html#presenting-yelp-results-to-the-user">Presenting Yelp results to the user</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended_example.html#getting-a-choice-from-the-user">Getting a choice from the user</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended_example.html#answering-user-questions-about-the-choices-presented">Answering user questions about the choices presented</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended_example.html#final-thoughts">Final thoughts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="telegram.html">Telegram Bot Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="telegram.html#a-simple-echo-bot">A simple Echo Bot</a></li>
<li class="toctree-l2"><a class="reference internal" href="telegram.html#setting-up-inline-bot">Setting up Inline Bot</a><ul>
<li class="toctree-l3"><a class="reference internal" href="telegram.html#set-inline-status">Set inline status</a></li>
<li class="toctree-l3"><a class="reference internal" href="telegram.html#set-inline-location-awareness">Set inline location awareness</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="telegram.html#an-inline-yelp-bot">An inline Yelp Bot</a><ul>
<li class="toctree-l3"><a class="reference internal" href="telegram.html#the-flow">The flow</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="slack.html">Slack Bot Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="slack.html#abstract">Abstract</a></li>
<li class="toctree-l2"><a class="reference internal" href="slack.html#a-simple-echo-bot">A simple echo bot</a><ul>
<li class="toctree-l3"><a class="reference internal" href="slack.html#create-a-new-slack-bot">1. Create a new slack bot</a></li>
<li class="toctree-l3"><a class="reference internal" href="slack.html#copy-bot-api-token">2. Copy Bot API Token</a></li>
<li class="toctree-l3"><a class="reference internal" href="slack.html#create-a-new-chatflow-application">3. Create a new ChatFlow application</a></li>
<li class="toctree-l3"><a class="reference internal" href="slack.html#configure-the-bot">4. Configure the bot</a></li>
<li class="toctree-l3"><a class="reference internal" href="slack.html#deploy-the-application">5. Deploy the application</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="slack.html#advanced-slash-commands-and-interactive-messages">Advanced: slash commands and interactive messages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="slack.html#creating-a-slack-application">1. Creating a slack application</a></li>
<li class="toctree-l3"><a class="reference internal" href="slack.html#importing-the-cat-choose-application">2. Importing the &#8220;Cat Choose&#8221; application</a></li>
<li class="toctree-l3"><a class="reference internal" href="slack.html#nlu-setup">3. NLU setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="slack.html#slack-app-setup">4. Slack app setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="slack.html#slash-command">Slash command</a></li>
<li class="toctree-l4"><a class="reference internal" href="slack.html#id6">Interactive messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="slack.html#redirect-url">Redirect URL</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="slack.html#connect-your-slack-application-with-your-team">5. Connect your slack application with your team</a></li>
<li class="toctree-l3"><a class="reference internal" href="slack.html#testing-the-cat-choose-application">6. Testing the &#8220;Cat Choose&#8221; application</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Twilio Bot Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preparing-twilio-account">Preparing Twilio account</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#a-simple-backwards-echo-bot">A simple Backwards-echo Bot</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#extra-steps">Extra steps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#a-more-advanced-twilio-bot-with-session-router-support">A more advanced Twilio bot with session/router support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="kik.html">Kik Bot Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="kik.html#abstract">Abstract</a></li>
<li class="toctree-l2"><a class="reference internal" href="kik.html#a-simple-echo-bot">A simple echo bot</a><ul>
<li class="toctree-l3"><a class="reference internal" href="kik.html#create-a-kik-bot">1. Create a kik bot</a></li>
<li class="toctree-l3"><a class="reference internal" href="kik.html#create-a-chatflow-application">2. Create a ChatFlow application</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="kik.html#advanced-attachments-and-custom-keyboards">Advanced: attachments and custom keyboards</a><ul>
<li class="toctree-l3"><a class="reference internal" href="kik.html#importing-the-colored-cats-application">1. Importing the &#8220;Colored Cats&#8221; application</a></li>
<li class="toctree-l3"><a class="reference internal" href="kik.html#nlu-setup">2. NLU setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="kik.html#set-up-colored-cats-application">3. Set up &#8220;Colored Cats&#8221; application</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">ChatFlow</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Twilio Bot Tutorials</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/twilio.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="twilio-bot-tutorials">
<span id="twilio"></span><h1>Twilio Bot Tutorials<a class="headerlink" href="#twilio-bot-tutorials" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Twilio In and Twilio Out nodes allow your apps to receive and send SMS messages (usually in that order).</p>
<div class="section" id="preparing-twilio-account">
<h3>Preparing Twilio account<a class="headerlink" href="#preparing-twilio-account" title="Permalink to this headline">¶</a></h3>
<p>You can skip this section if you already have a Twilio account and/or know how to set it up.</p>
<ol class="arabic simple">
<li>If you don&#8217;t have a Twilio account, you can <a class="reference external" href="https://www.twilio.com/try-twilio">sign up for one</a>. Trial accounts are free, you don&#8217;t have to provide any payment details.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It&#8217;s a good idea to provide a real phone number when registering a new account (and confirm that number), as only confirmed
phone numbers can be used to send/receive SMS messages to/from Twilio services in trial accounts.</p>
</div>
<ol class="arabic simple" start="2">
<li>After finishing the registration, you will have to <a class="reference external" href="https://www.twilio.com/console/phone-numbers/search">&#8220;buy&#8221;</a> a phone number.
The first phone number in trial accounts (at time of writing) is/was free.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Make sure you search for phone numbers in/close to your area and with SMS capabilities enabled.</p>
</div>
<ol class="arabic simple" start="3">
<li>Don&#8217;t close the browser window/tab with the Twilio console, as you will need it later.</li>
</ol>
</div>
</div>
<div class="section" id="a-simple-backwards-echo-bot">
<h2>A simple Backwards-echo Bot<a class="headerlink" href="#a-simple-backwards-echo-bot" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Start by opening the ChatFlow application list and add a new application. Press the &#8220;Create new App&#8221; button.</li>
</ol>
<img alt="_images/twilio-new-app.png" class="align-center" src="_images/twilio-new-app.png" />
<ol class="arabic simple" start="2">
<li>Enter a name and press &#8220;Create&#8221;.</li>
</ol>
<img alt="_images/twilio-create-app.png" class="align-center" src="_images/twilio-create-app.png" />
<ol class="arabic simple" start="3">
<li>Click on the application name on the list to edit it.</li>
</ol>
<img alt="_images/twilio-edit-app.png" class="align-center" src="_images/twilio-edit-app.png" />
<ol class="arabic simple" start="4">
<li>To make your app nice and tidy, you can enable grid in the Settings/view menu.</li>
</ol>
<img alt="_images/twilio-snap-grid.png" class="align-center" src="_images/twilio-snap-grid.png" />
<ol class="arabic simple" start="5">
<li>Find Twilio In and Twilio Out nodes in the palette (left side), add them to the flow.</li>
</ol>
<img alt="_images/twilio-palette.png" class="align-center" src="_images/twilio-palette.png" />
<ol class="arabic simple" start="6">
<li>Find the &#8220;function&#8221; node in the palette and add it to the flow too.</li>
<li>Connect the &#8220;Twilio In&#8221; node output to the function node input and the function node output
to the &#8220;Twilio Out&#8221; input, so your flow looks like this:</li>
</ol>
<img alt="_images/twilio-added-connected.png" class="align-center" src="_images/twilio-added-connected.png" />
<ol class="arabic simple" start="8">
<li>Double click on the &#8220;Twilio in&#8221; node, and click on the displayed &#8220;Twilio receiving url&#8221; to copy it to your clipboard (highlighted in yellow).</li>
</ol>
<img alt="_images/twilio-receiving-url.png" class="align-center" src="_images/twilio-receiving-url.png" />
<ol class="arabic simple" start="9">
<li>Switch to the Twilio console and display your Phone numbers list, .</li>
</ol>
<img alt="_images/twilio-cp-phone-numbers.png" class="align-center" src="_images/twilio-cp-phone-numbers.png" />
<ol class="arabic simple" start="10">
<li>Find the phone number you bought and click on it to edit it&#8217;s settings.</li>
</ol>
<img alt="_images/twilio-cp-phone-list.png" class="align-center" src="_images/twilio-cp-phone-list.png" />
<ol class="arabic simple" start="11">
<li>Paste the address you copied in from the &#8220;Twilio in node&#8221; in the field labeled &#8220;A message comes in&#8221; and click the &#8220;Save&#8221; button.</li>
</ol>
<img alt="_images/twilio-cp-add-webhook.png" class="align-center" src="_images/twilio-cp-add-webhook.png" />
<ol class="arabic simple" start="12">
<li>Go to the Twilio console dashboard (the main screen) to display your Account SID and Auth Token.
You have to click the padlock icon to make Auth Token visible
(the SID and token displayed in this tutorial are fake, so don&#8217;t try to use them ;) ).</li>
</ol>
<img alt="_images/twilio-cp-credentials.png" class="align-center" src="_images/twilio-cp-credentials.png" />
<ol class="arabic simple" start="13">
<li>Switch to the ChatFlow editor and double click on the &#8220;Twilio Out&#8221; node.
Copy Account SID and Auth Token from Twilio dashboard to this form.</li>
<li>Enable &#8220;Respond mode&#8221; and click &#8220;OK&#8221;.</li>
</ol>
<img alt="_images/twilio-out-credentials.png" class="align-center" src="_images/twilio-out-credentials.png" />
<p>&#8220;Respond mode&#8221; is a quick way to enable your app to respond to incoming SMS messages
(received by a Twilio In node) without having to write any extra code.
When it&#8217;s enabled and you don&#8217;t redefine <code class="docutils literal"><span class="pre">msg.twilio.from</span></code>/<code class="docutils literal"><span class="pre">to</span></code> values,
then those values are used in reverse, so when you use a Twilio Out node, the recipient phone number will be
read from <code class="docutils literal"><span class="pre">msg.twilio.in</span></code> (and sender phone number will be read from <code class="docutils literal"><span class="pre">msg.twilio.from</span></code> accordingly).
This feature also allows you to use one &#8220;Twilio Out&#8221; node with multiple &#8220;Twilio In&#8221; nodes.</p>
<ol class="arabic simple" start="15">
<li>Double click on the function node you added and fill it like in the example below (enter node name and function body):</li>
</ol>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">msg</span><span class="p">.</span><span class="nx">payload</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">payload</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">reverse</span><span class="p">().</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>

<span class="k">return</span> <span class="nx">msg</span><span class="p">;</span>
</pre></div>
</div>
<img alt="_images/twilio-fn-reverse.png" class="align-center" src="_images/twilio-fn-reverse.png" />
<ol class="arabic simple" start="15">
<li>Hit the &#8220;Deploy&#8221; button. Now your app is running and you can test it.</li>
</ol>
<img alt="_images/twilio-deploy.png" class="align-center" src="_images/twilio-deploy.png" />
<ol class="arabic simple" start="16">
<li>Send a text message (SMS) to the phone number you bought. Your app should respond in seconds with a message containing the text you sent, but reversed.</li>
</ol>
<div class="section" id="extra-steps">
<h3>Extra steps<a class="headerlink" href="#extra-steps" title="Permalink to this headline">¶</a></h3>
<p>Here we&#8217;ll add some debugging functionality to your application.</p>
<ol class="arabic simple" start="16">
<li>Find and add a debug node to the flow, connect it&#8217;s input to the &#8220;Twilio in&#8221; output.</li>
</ol>
<img alt="_images/twilio-debug-added.png" class="align-center" src="_images/twilio-debug-added.png" />
<ol class="arabic simple" start="17">
<li>Double click the debug node you added and set it up to log &#8220;twilio&#8221; property of &#8220;msg&#8221;.</li>
</ol>
<img alt="_images/twilio-debug-edit.png" class="align-center" src="_images/twilio-debug-edit.png" />
<ol class="arabic simple" start="18">
<li>Activate the debug panel and send another text message. Message details should be shown in the debug panel.
You can read about those details in <a class="reference external" href="https://www.twilio.com/docs/api/twiml/sms/twilio_request">Twilio documentation</a>.</li>
</ol>
<img alt="_images/twilio-debug-sms.png" class="align-center" src="_images/twilio-debug-sms.png" />
<p>You can download the whole aplication <a class="reference external" href="_static/json/twilio-echo-bot.json">here</a>.
You only have to setup Twilio In/Out nodes manually.</p>
</div>
</div>
<div class="section" id="a-more-advanced-twilio-bot-with-session-router-support">
<h2>A more advanced Twilio bot with session/router support<a class="headerlink" href="#a-more-advanced-twilio-bot-with-session-router-support" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Create a new app and add the following nodes:</li>
</ol>
<ul class="simple">
<li>Twilio In</li>
<li>Twilio Out</li>
<li>router</li>
<li>3x enter</li>
<li>3x state</li>
<li>1x function</li>
</ul>
<ol class="arabic simple" start="2">
<li>Connect added nodes so the flow looks like this:</li>
</ol>
<img alt="_images/twilio2-adv-connected.png" class="align-center" src="_images/twilio2-adv-connected.png" />
<ol class="arabic simple" start="3">
<li>Set up Twilio In/Out nodes (the previous tutorial shows how to do it).</li>
<li>Edit the first &#8220;enter&#8221; node, name it &#8220;start&#8221;, set it as the initial state and remove the condition:</li>
</ol>
<img alt="_images/twilio2-initial.png" class="align-center" src="_images/twilio2-initial.png" />
<p>You can leave the first state node unchanged.</p>
<ol class="arabic simple" start="5">
<li>Edit the second &#8220;enter&#8221; node, name it &#8220;add counter&#8221;, and set it up to accept <code class="docutils literal"><span class="pre">add</span></code> in the payload property.</li>
</ol>
<img alt="_images/twilio2-add-counter.png" class="align-center" src="_images/twilio2-add-counter.png" />
<ol class="arabic simple" start="6">
<li>Edit the function node connected to the &#8220;add counter&#8221; node, name it &#8220;increase counter&#8221;
and add the following code to the function body</li>
</ol>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">msg</span><span class="p">.</span><span class="nx">kitt</span><span class="p">.</span><span class="nx">counter</span> <span class="o">=</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">kitt</span><span class="p">.</span><span class="nx">counter</span> <span class="o">||</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</div>
<img alt="_images/twilio2-inc-counter.png" class="align-center" src="_images/twilio2-inc-counter.png" />
<p>7. Edit the second state node (the one connected to the function node you just edited),
name it &#8220;print counter&#8221; and replace the commented out code with the following code:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">msg</span><span class="p">.</span><span class="nx">kitt</span><span class="p">.</span><span class="nx">_responses</span> <span class="o">=</span> <span class="p">[</span><span class="nx">msg</span><span class="p">.</span><span class="nx">kitt</span><span class="p">.</span><span class="nx">counter</span><span class="p">];</span>
</pre></div>
</div>
<img alt="_images/twilio2-print-counter.png" class="align-center" src="_images/twilio2-print-counter.png" />
<ol class="arabic simple" start="8">
<li>Edit the third enter node, name it &#8220;end&#8221;, and set it up to accept <code class="docutils literal"><span class="pre">bye</span></code> in the payload property.</li>
</ol>
<img alt="_images/twilio2-state-end.png" class="align-center" src="_images/twilio2-state-end.png" />
<ol class="arabic simple" start="9">
<li>Edit the third state node, name it &#8220;bye&#8221;, set &#8220;Output text&#8221; to <code class="docutils literal"><span class="pre">Bye</span> <span class="pre">bye.</span></code>, leave the code as is.
Make sure you check the &#8220;Dialogue ends here&#8221; option.</li>
</ol>
<img alt="_images/twilio2-state-bye.png" class="align-center" src="_images/twilio2-state-bye.png" />
<ol class="arabic simple" start="10">
<li>The &#8220;Twilio In&#8221; node sets up session variables automatically, so you don&#8217;t have to edit the router node.
However, as messages from Twilio have no direct support for &#8220;sessions&#8221;, so you may want to tune the &#8220;idle&#8221; session length manually.</li>
<li>Now you can deploy the application. The finshed flow should look like this:</li>
</ol>
<img alt="_images/twilio2-finished.png" class="align-center" src="_images/twilio2-finished.png" />
<p>Now by sending &#8220;add&#8221; message to your Twilio phone number you increase the counter (each user has own counter).
By sending &#8220;bye&#8221; message, you end the conversation (and reset/kill the counter).</p>
<p>You can download the whole aplication <a class="reference external" href="_static/json/twilio-router-bot.json">here</a>.
You only have to setup Twilio In/Out nodes manually.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="kik.html" class="btn btn-neutral float-right" title="Kik Bot Tutorials" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="slack.html" class="btn btn-neutral" title="Slack Bot Tutorials" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, KITT.AI.
      Last updated on Aug 11, 2016.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>